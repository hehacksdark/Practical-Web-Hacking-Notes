# Lab: SQL Injection in WHERE Clause Allowing Retrieval of Hidden Data

## Overview
This lab demonstrates how an **SQL injection vulnerability** in the `WHERE` clause can be exploited to retrieve hidden data from the database.

## Steps to Exploit

### 1️⃣ **Intercept the Request Using Burp Suite**
- Open Burp Suite and enable **Intercept** in the **Proxy** tab.
- In the target web application, navigate to a product category page.
- Capture the request where the `category` parameter is being sent.

### 2️⃣ **Modify the Category Parameter**
- In Burp Suite, locate the `category` parameter in the request.
- Modify its value to inject SQL code:
  ```sql
  '+OR+1=1--
  ```
  **Explanation:**
  - `OR 1=1` always evaluates to `TRUE`, making the query return all rows.
  - `--` comments out the rest of the SQL statement to prevent syntax errors.

### 3️⃣ **Forward the Modified Request**
- Send the modified request to the server.
- Observe the response and verify if **hidden or unreleased products** are now visible.

## Why This Works
- The vulnerable SQL query may look like this:
  ```sql
  SELECT * FROM products WHERE category = 'Gadgets';
  ```
- After injection, the query becomes:
  ```sql
  SELECT * FROM products WHERE category = '' OR 1=1--';
  ```
- Since `1=1` is always `TRUE`, **all products** in the database are retrieved, including hidden ones.

## Prevention & Mitigation
- **Use Prepared Statements:** Ensure that user input is properly parameterized to prevent SQL injection.
- **Input Validation:** Validate and sanitize user input before processing database queries.
- **Least Privilege Principle:** Restrict database permissions to limit data exposure.
- **Web Application Firewall (WAF):** Deploy a WAF to detect and block SQL injection attempts.

## Conclusion
This lab highlights the impact of SQL injection in the `WHERE` clause. Proper security measures should be implemented to prevent unauthorized data retrieval.
